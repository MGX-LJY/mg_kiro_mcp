# Init Step2: AI任务列表创建模板

## 🎯 任务概述
基于Step1的项目分析结果，创建结构化的AI任务列表和文件处理策略，为Step3的文件文档生成做准备。

## 📋 任务创建要求

### 1. 基于项目分析结果
利用以下Step1输出信息：
- 项目元数据: {{project_metadata}}
- 语言配置: {{language_profile}}
- 项目特征: {{project_characteristics}}
- 文件总数: {{total_files}}

### 2. 任务分类生成
创建以下类型的任务：

#### 文件处理任务
- 为每个重要文件创建文档生成任务
- 按优先级排序（入口文件 > 核心业务 > 配置文件 > 支持文件）
- 设置合理的批次大小（建议{{suggested_batch_size}}个文件/批次）

#### 分析任务
- 模块依赖关系分析
- 架构模式识别
- 代码质量评估

#### 整合任务
- 模块级文档整合
- 项目概览生成
- 连接关系分析

### 3. 处理策略配置

#### 批次处理策略
- **批次大小**: {{suggested_batch_size}}
- **Token预算**: 每批次约80,000 tokens
- **处理模式**: {{processing_mode}}
- **优先级排序**: 启用

#### 任务优先级设定
1. **高优先级**: 入口文件、主要路由、核心服务
2. **中优先级**: 业务逻辑文件、工具类
3. **低优先级**: 配置文件、测试文件、文档文件

## 🔄 输出格式

### AI任务列表结构
```json
{
  "todoList": {
    "totalTasks": "任务总数",
    "fileProcessingTasks": "文件处理任务数",
    "analysisTasks": "分析任务数",
    "summaryTasks": "总结任务数"
  },
  "processingPlan": {
    "totalBatches": "批次总数",
    "averageBatchSize": "平均批次大小",
    "estimatedTime": "预估处理时间"
  }
}
```

### 批次配置示例
- **Batch 1**: 入口文件 + 主要配置 ({{batch_1_files}})
- **Batch 2**: 核心路由和服务 ({{batch_2_files}})
- **Batch 3**: 业务逻辑模块 ({{batch_3_files}})
- **...**

## 💡 任务创建指导

### 1. 文件分析维度
为每个文件任务指定分析重点：
- **功能识别**: 文件的主要职责和功能
- **依赖分析**: 导入/导出关系
- **复杂度评估**: 代码复杂程度
- **文档需求**: 需要生成的文档类型

### 2. 语言特定考虑
{{#if javascript}}
- 重点关注模块导入导出
- 识别React组件、Express路由等
- 分析package.json依赖
{{/if}}

{{#if python}}  
- 关注类和函数定义
- 分析import语句和模块结构
- 识别Django/Flask等框架特征
{{/if}}

### 3. 效率优化建议
- 将相关文件分组到同一批次
- 避免单个批次token数过大
- 预留20%的token buffer用于意外情况

## 📊 成功指标

### 任务列表质量
- ✅ 所有重要文件都有对应任务
- ✅ 任务优先级合理分配
- ✅ 批次大小控制在建议范围内
- ✅ 预估时间准确

### 处理策略有效性
- ✅ 批次间负载均衡
- ✅ 依赖文件在同一或相邻批次
- ✅ 关键路径文件优先处理

---
*模板版本*: v4.0  
*适用模式*: Init  
*步骤*: Step2 - 任务创建  
*生成时间*: {{timestamp}}