# mg_kiro MCP Server æ¶æ„æ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£æ¦‚è§ˆ

**ç”Ÿæˆæ—¶é—´**: 2025-09-08  
**æ¶æ„ç‰ˆæœ¬**: v2.0.1  
**æ–‡æ¡£ç›®çš„**: æ·±å…¥ç†è§£serverç«¯çš„å®Œæ•´æ¶æ„ã€æ¨¡å—å…³ç³»å’Œä¾èµ–ç®¡ç†

## ğŸ—ï¸ æ€»ä½“æ¶æ„

mg_kiro MCP Server é‡‡ç”¨**ç°ä»£æ¨¡å—åŒ–æ¶æ„**ï¼ŒåŸºäºä¾èµ–æ³¨å…¥å’ŒæœåŠ¡æ€»çº¿æ¨¡å¼ï¼Œå®ç°äº†é«˜åº¦è§£è€¦å’Œå¯æ‰©å±•çš„ç³»ç»Ÿè®¾è®¡ã€‚

### æ ¸å¿ƒè®¾è®¡åŸåˆ™

- **æ¨¡å—åŒ–è·¯ç”±ç³»ç»Ÿ**: æŒ‰å·¥ä½œæ¨¡å¼å’ŒåŠŸèƒ½é¢†åŸŸåˆ†å±‚ç»„ç»‡
- **æœåŠ¡ä¾èµ–æ³¨å…¥**: é€šè¿‡ServiceBuså®ç°ç»Ÿä¸€æœåŠ¡ç®¡ç†
- **ç»Ÿä¸€å“åº”æ ¼å¼**: æ ‡å‡†åŒ–æ‰€æœ‰APIå“åº”
- **å·¥ä½œæµçŠ¶æ€ç®¡ç†**: æ”¯æŒå¤æ‚å¤šæ­¥éª¤å·¥ä½œæµ
- **æ™ºèƒ½è¯­è¨€æ£€æµ‹**: é›†æˆè¯­è¨€è¯†åˆ«å’Œæ¨¡æ¿ç”Ÿæˆ

## ğŸ“ ç›®å½•ç»“æ„

```
server/
â”œâ”€â”€ analyzers/           # é¡¹ç›®åˆ†æå™¨æ¨¡å—
â”œâ”€â”€ language/            # è¯­è¨€å¤„ç†å’Œæ£€æµ‹æ¨¡å—  
â”œâ”€â”€ routes/              # æ¨¡å—åŒ–è·¯ç”±ç³»ç»Ÿ
â”‚   â”œâ”€â”€ system/          # ç³»ç»Ÿçº§è·¯ç”± (health, mcp, prompts)
â”‚   â”œâ”€â”€ init/            # Initå·¥ä½œæ¨¡å¼è·¯ç”± (8æ­¥å·¥ä½œæµ)
â”‚   â”œâ”€â”€ create/          # Createå·¥ä½œæ¨¡å¼è·¯ç”± 
â”‚   â”œâ”€â”€ fix/             # Fixå·¥ä½œæ¨¡å¼è·¯ç”±
â”‚   â”œâ”€â”€ analyze/         # Analyzeå·¥ä½œæ¨¡å¼è·¯ç”±
â”‚   â””â”€â”€ language/        # è¯­è¨€æ™ºèƒ½ç³»ç»Ÿè·¯ç”±
â”œâ”€â”€ services/            # æ ¸å¿ƒæœåŠ¡å±‚
â”œâ”€â”€ prompt-manager.js    # æç¤ºè¯ç®¡ç†å™¨
â””â”€â”€ (å·²æ¸…ç†åºŸå¼ƒæ–‡ä»¶)
```

## ğŸ”§ æ ¸å¿ƒæœåŠ¡æ¶æ„

### ServiceBus - æœåŠ¡æ€»çº¿

**ä½ç½®**: `server/services/service-bus.js`  
**èŒè´£**: ç»Ÿä¸€æœåŠ¡ç®¡ç†ä¸­å¿ƒï¼Œè§£å†³å¾ªç¯ä¾èµ–ï¼Œæä¾›ä¾èµ–æ³¨å…¥

**æ ¸å¿ƒåŠŸèƒ½**:
- æœåŠ¡æ³¨å†Œå’Œç”Ÿå‘½å‘¨æœŸç®¡ç†
- ä¾èµ–å…³ç³»è§£æå’ŒéªŒè¯
- æ‡’åŠ è½½å’Œå¾ªç¯ä¾èµ–æ£€æµ‹
- æœåŠ¡çŠ¶æ€ç›‘æ§å’Œç»Ÿè®¡

```javascript
// æœåŠ¡æ³¨å†Œç¤ºä¾‹
serviceBus
    .register('promptManager', PromptManager, config, ['templateReader'])
    .register('workflowService', WorkflowService, {}, ['workflowState'])
```

### ServiceRegistry - æœåŠ¡æ³¨å†Œé…ç½®

**ä½ç½®**: `server/services/service-registry.js`  
**èŒè´£**: å®šä¹‰æ‰€æœ‰æœåŠ¡çš„æ³¨å†Œä¿¡æ¯å’Œä¾èµ–å…³ç³»

**æœåŠ¡åˆ†å±‚**:
- **åŸºç¡€æœåŠ¡å±‚**: templateReader, workflowState, configService
- **æ ¸å¿ƒæœåŠ¡å±‚**: promptManager, projectScanner, languageIntelligence
- **é«˜çº§æœåŠ¡å±‚**: workflowService, unifiedTemplateService

## ğŸ“Š ä¸»è¦æœåŠ¡æ¨¡å—

### 1. æç¤ºè¯ç®¡ç† (PromptManager)

**ä½ç½®**: `server/prompt-manager.js`  
**ä¾èµ–**: templateReader  
**åŠŸèƒ½**: æ¨¡æ¿åŠ è½½ã€å˜é‡å¤„ç†ã€ç¼“å­˜ç®¡ç†

```javascript
// æ ¸å¿ƒAPI
await promptManager.loadPrompt('modes', 'init', variables)
await promptManager.listPrompts('analysis')
```

### 2. é¡¹ç›®æ‰«æå™¨ (ProjectScanner)

**ä½ç½®**: `server/analyzers/project-scanner.js`  
**åŠŸèƒ½**: æ·±åº¦é¡¹ç›®ç»“æ„åˆ†æã€é…ç½®æ–‡ä»¶æ£€æµ‹ã€æŠ€æœ¯æ ˆè¯†åˆ«

**æ‰«æåŠŸèƒ½**:
- ç›®å½•ç»“æ„é€’å½’æ‰«æ (å¯é…ç½®æ·±åº¦)
- READMEå†…å®¹åˆ†æå’Œæå–
- é…ç½®æ–‡ä»¶è¯†åˆ« (package.json, requirements.txtç­‰)
- å¼€å‘å·¥å…·é…ç½®æ£€æµ‹ (.gitignore, Dockerfileç­‰)
- é¡¹ç›®å¤æ‚åº¦å’Œæˆç†Ÿåº¦è¯„ä¼°

### 3. è¯­è¨€æ£€æµ‹å¼•æ“ (LanguageDetector)

**ä½ç½®**: `server/language/detector.js`  
**åŠŸèƒ½**: é€šè¿‡æ–‡ä»¶æ‰©å±•åã€é…ç½®æ–‡ä»¶ã€æ¡†æ¶ç‰¹å¾è‡ªåŠ¨è¯†åˆ«é¡¹ç›®è¯­è¨€

**æ”¯æŒè¯­è¨€**:
- JavaScript/Node.js (React, Vue, Angular, Express, Next.js)
- Python (Django, Flask, FastAPI, æ•°æ®ç§‘å­¦æ¡†æ¶)
- Java (Spring, Maven, Gradle)
- Go, Rust, C#/.NET

**æ£€æµ‹ç®—æ³•**:
- æƒé‡è®¡ç®—: æ–‡ä»¶æ‰©å±•å(10åˆ†) + é…ç½®æ–‡ä»¶(50åˆ†) + ç›®å½•ç»“æ„(20åˆ†)
- æ¡†æ¶è¯†åˆ«: åŸºäºæŒ‡ç¤ºæ–‡ä»¶å­˜åœ¨æ€§è¯„åˆ†
- ç½®ä¿¡åº¦è®¡ç®—: æƒé‡å æ¯” Ã— 100%

### 4. è¯­è¨€æ™ºèƒ½æœåŠ¡ (LanguageIntelligenceService)

**ä½ç½®**: `server/services/language-intelligence-service.js`  
**åŠŸèƒ½**: ç»Ÿä¸€ç®¡ç†è¯­è¨€æ£€æµ‹ã€æ¨¡æ¿ç”Ÿæˆã€æ™ºèƒ½æç¤ºè¯

**æ ¸å¿ƒèƒ½åŠ›**:
- é¡¹ç›®è¯­è¨€æ£€æµ‹å¢å¼º (ç¼“å­˜ã€å»ºè®®ã€èƒ½åŠ›åˆ†æ)
- æ”¯æŒè¯­è¨€å’Œæ¡†æ¶ä¿¡æ¯æŸ¥è¯¢
- åŸºäºè¯­è¨€çš„æ¨¡æ¿ç”Ÿæˆ
- ä¸Šä¸‹æ–‡æ™ºèƒ½æç¤ºè¯ç”Ÿæˆ
- æœ€ä½³å®è·µå»ºè®®

### 5. å·¥ä½œæµæœåŠ¡ (WorkflowService)

**ä½ç½®**: `server/services/workflow-service.js`  
**ä¾èµ–**: workflowState  
**åŠŸèƒ½**: ç®¡ç†mg_kiroçš„8æ­¥å·¥ä½œæµç¨‹

**å·¥ä½œæµç®¡ç†**:
- å·¥ä½œæµåˆ›å»ºå’ŒçŠ¶æ€è·Ÿè¸ª
- æ­¥éª¤éªŒè¯å’Œè¿›åº¦æŸ¥è¯¢
- ä¸‹ä¸€æ­¥å»ºè®®ç”Ÿæˆ
- è¿‡æœŸå·¥ä½œæµæ¸…ç†

### 6. æ¨¡æ¿æœåŠ¡ç³»ç»Ÿ

**TemplateReader**: åŸºç¡€æ¨¡æ¿æ–‡ä»¶è¯»å–  
**UnifiedTemplateService**: æ™ºèƒ½æ¨¡æ¿é€‰æ‹©å’Œç”Ÿæˆ  
**TemplateEngineService**: é«˜çº§æ¨¡æ¿å¼•æ“åŠŸèƒ½

**æ¨¡æ¿åˆ†ç±»**:
- å·¥ä½œæ¨¡å¼æ¨¡æ¿ (`prompts/modes/`)
- åˆ†ææ¨¡æ¿ (`prompts/analysis/`)
- ç”Ÿæˆæ¨¡æ¿ (`prompts/generation/`)
- è¯­è¨€å˜ä½“ (`prompts/language-variants/`)

## ğŸ›£ï¸ è·¯ç”±ç³»ç»Ÿæ¶æ„

### è·¯ç”±ç»„ç»‡ç»“æ„

```
routes/
â”œâ”€â”€ index.js           # ä¸»è·¯ç”±èšåˆå™¨
â”œâ”€â”€ system/            # ç³»ç»Ÿçº§API
â”‚   â”œâ”€â”€ health.js      # å¥åº·æ£€æŸ¥å’ŒçŠ¶æ€ç›‘æ§
â”‚   â”œâ”€â”€ mcp.js         # MCPåè®®ç«¯ç‚¹
â”‚   â””â”€â”€ prompts.js     # æç¤ºè¯å’Œæ¨¡æ¿ç®¡ç†
â”œâ”€â”€ init/              # Initå·¥ä½œæ¨¡å¼ (8æ­¥å·¥ä½œæµ)
â”‚   â”œâ”€â”€ structure.js   # æ­¥éª¤1: é¡¹ç›®ç»“æ„åˆ†æ
â”‚   â”œâ”€â”€ language.js    # æ­¥éª¤2: æ™ºèƒ½è¯­è¨€è¯†åˆ«
â”‚   â”œâ”€â”€ files.js       # æ­¥éª¤3: æ–‡ä»¶å†…å®¹é€šè¯»
â”‚   â”œâ”€â”€ documents.js   # æ­¥éª¤4: åŸºç¡€æ¶æ„æ–‡æ¡£ç”Ÿæˆ
â”‚   â”œâ”€â”€ modules-analysis.js # æ­¥éª¤5: æ·±åº¦æ¨¡å—åˆ†æ
â”‚   â”œâ”€â”€ prompts.js     # æ­¥éª¤6: è¯­è¨€æç¤ºè¯é›†æˆ
â”‚   â”œâ”€â”€ modules-docs.js # æ­¥éª¤7: æ¨¡å—æ–‡æ¡£ç”Ÿæˆ
â”‚   â””â”€â”€ contracts.js   # æ­¥éª¤8: å¥‘çº¦æ–‡æ¡£ç”Ÿæˆ
â”œâ”€â”€ create/            # Createå·¥ä½œæ¨¡å¼
â”œâ”€â”€ fix/               # Fixå·¥ä½œæ¨¡å¼
â”œâ”€â”€ analyze/           # Analyzeå·¥ä½œæ¨¡å¼
â””â”€â”€ language/          # è¯­è¨€æ™ºèƒ½ç³»ç»Ÿ
    â”œâ”€â”€ detection.js   # è¯­è¨€æ£€æµ‹API
    â”œâ”€â”€ templates.js   # æ¨¡æ¿ç”ŸæˆAPI
    â””â”€â”€ prompts.js     # æ™ºèƒ½æç¤ºè¯API
```

### ç»Ÿä¸€è·¯ç”±å…¥å£

**ä½ç½®**: `server/routes/index.js`  
**åŠŸèƒ½**: èšåˆæ‰€æœ‰è·¯ç”±æ¨¡å—ï¼Œæä¾›ç»Ÿä¸€çš„è·¯ç”±å…¥å£

**è·¯ç”±åˆ†å±‚**:
1. **ç³»ç»Ÿè·¯ç”±**: å¥åº·æ£€æŸ¥ã€MCPåè®®ã€æç¤ºè¯ç®¡ç†
2. **å·¥ä½œæ¨¡å¼è·¯ç”±**: Init/Create/Fix/Analyzeå››å¤§å·¥ä½œæ¨¡å¼
3. **è¯­è¨€æ™ºèƒ½è·¯ç”±**: è¯­è¨€æ£€æµ‹ã€æ¨¡æ¿ç”Ÿæˆã€æ™ºèƒ½æç¤ºè¯
4. **å·¥ä½œæµç®¡ç†**: çŠ¶æ€æŸ¥è¯¢ã€é”™è¯¯å¤„ç†ã€404å¤„ç†

## ğŸ“ˆ åˆ†æå™¨æ¨¡å—

### é¡¹ç›®åˆ†æå™¨ç”Ÿæ€

```
analyzers/
â”œâ”€â”€ project-scanner.js                    # æ ¸å¿ƒé¡¹ç›®æ‰«æå™¨
â”œâ”€â”€ enhanced-language-detector.js         # å¢å¼ºè¯­è¨€æ£€æµ‹
â”œâ”€â”€ file-content-analyzer.js             # æ–‡ä»¶å†…å®¹åˆ†æ
â”œâ”€â”€ integration-analyzer.js              # é›†æˆå…³ç³»åˆ†æ
â”œâ”€â”€ intelligent-layered-analyzer.js      # æ™ºèƒ½åˆ†å±‚åˆ†æ
â”œâ”€â”€ module-complete-analyzer.js          # å®Œæ•´æ¨¡å—åˆ†æ
â”œâ”€â”€ progressive-analysis-engine.js       # æ¸è¿›å¼åˆ†æå¼•æ“
â”œâ”€â”€ ultra-detailed-code-analyzer.js      # è¶…è¯¦ç»†ä»£ç åˆ†æ
â”œâ”€â”€ architecture-key-extractor.js        # æ¶æ„å…³é”®ä¿¡æ¯æå–
â””â”€â”€ real-project-scanner.js              # çœŸå®é¡¹ç›®æ‰«æå™¨
```

**åˆ†æèƒ½åŠ›**:
- **å¤šç»´åº¦æ‰«æ**: ç»“æ„ã€å†…å®¹ã€é…ç½®ã€ä¾èµ–ã€æŠ€æœ¯æ ˆ
- **æ™ºèƒ½æ¨æ–­**: é¡¹ç›®ç±»å‹ã€å¼€å‘é˜¶æ®µã€å¤æ‚åº¦è¯„ä¼°
- **æ¸è¿›å¼åˆ†æ**: ä»ç®€å•åˆ°æ·±åº¦çš„å¤šå±‚åˆ†æ
- **ä¸Šä¸‹æ–‡ç†è§£**: åŸºäºé¡¹ç›®ç‰¹å¾çš„æ™ºèƒ½å»ºè®®

## ğŸ§  è¯­è¨€å¤„ç†æ¨¡å—

```
language/
â”œâ”€â”€ detector.js                    # è¯­è¨€è¯†åˆ«å¼•æ“
â”œâ”€â”€ template-generator.js         # è¯­è¨€æ¨¡æ¿ç”Ÿæˆå™¨
â”œâ”€â”€ prompt-intelligence.js        # æ™ºèƒ½æç¤ºè¯ç³»ç»Ÿ
â””â”€â”€ language-prompt-generator.js  # è¯­è¨€æç¤ºè¯ç”Ÿæˆå™¨
```

**è¯­è¨€å¤„ç†æµæ°´çº¿**:
1. **æ£€æµ‹é˜¶æ®µ**: æ–‡ä»¶æ‰«æ â†’ æƒé‡è®¡ç®— â†’ æ¡†æ¶è¯†åˆ« â†’ ç½®ä¿¡åº¦è¯„ä¼°
2. **åˆ†æé˜¶æ®µ**: æŠ€æœ¯æ ˆæç¤º â†’ é¡¹ç›®ç±»å‹æ¨æ–­ â†’ å»ºè®®ç”Ÿæˆ
3. **ç”Ÿæˆé˜¶æ®µ**: æ¨¡æ¿é€‰æ‹© â†’ å˜é‡æ›¿æ¢ â†’ æ™ºèƒ½æç¤ºè¯

## ğŸ”„ æœåŠ¡ä¾èµ–å…³ç³»

### ä¾èµ–å›¾

```mermaid
graph TD
    A[ServiceBus] --> B[åŸºç¡€æœåŠ¡å±‚]
    B --> C[templateReader]
    B --> D[workflowState]  
    B --> E[configService]
    
    F[æ ¸å¿ƒæœåŠ¡å±‚] --> B
    F --> G[promptManager]
    F --> H[projectScanner]
    F --> I[languageIntelligence]
    
    J[é«˜çº§æœåŠ¡å±‚] --> F
    J --> K[workflowService]
    J --> L[unifiedTemplateService]
    
    M[è·¯ç”±å±‚] --> J
    M --> N[ç³»ç»Ÿè·¯ç”±]
    M --> O[å·¥ä½œæ¨¡å¼è·¯ç”±]
    M --> P[è¯­è¨€æ™ºèƒ½è·¯ç”±]
```

### ä¾èµ–æ³¨å…¥æ¨¡å¼

```javascript
// æœåŠ¡æ³¨å†Œæ—¶çš„ä¾èµ–å£°æ˜
.register('promptManager', PromptManager, config, ['templateReader'])
.register('workflowService', WorkflowService, {}, ['workflowState'])
.register('unifiedTemplateService', UnifiedTemplateService, {}, [
    'templateReader', 
    'languageIntelligence'
])
```

## ğŸ¯ APIç«¯ç‚¹æ€»è§ˆ

### ç³»ç»Ÿçº§API

- `GET /health` - ç³»ç»Ÿå¥åº·æ£€æŸ¥
- `GET /status` - è¯¦ç»†çŠ¶æ€ä¿¡æ¯
- `POST /mcp/handshake` - MCPåè®®æ¡æ‰‹
- `GET /prompt/mode/:mode` - è·å–æ¨¡å¼æç¤ºè¯
- `GET /template/:name` - è·å–æ–‡æ¡£æ¨¡æ¿

### Initå·¥ä½œæ¨¡å¼API (8æ­¥å·¥ä½œæµ)

- `POST /mode/init/scan-structure` - æ­¥éª¤1: æ‰«æé¡¹ç›®ç»“æ„
- `POST /mode/init/detect-language` - æ­¥éª¤2: æ™ºèƒ½è¯­è¨€è¯†åˆ«
- `POST /mode/init/scan-files` - æ­¥éª¤3: æ–‡ä»¶å†…å®¹é€šè¯»
- `POST /mode/init/generate-documents` - æ­¥éª¤4: ç”ŸæˆåŸºç¡€æ¶æ„æ–‡æ¡£
- `POST /mode/init/analyze-modules` - æ­¥éª¤5: æ·±åº¦æ¨¡å—åˆ†æ
- `POST /mode/init/generate-prompts` - æ­¥éª¤6: ç”Ÿæˆè¯­è¨€æç¤ºè¯
- `POST /mode/init/generate-modules-docs` - æ­¥éª¤7: ç”Ÿæˆæ¨¡å—æ–‡æ¡£
- `POST /mode/init/generate-contracts` - æ­¥éª¤8: ç”Ÿæˆå¥‘çº¦æ–‡æ¡£

### è¯­è¨€æ™ºèƒ½ç³»ç»ŸAPI

- `POST /language/detect` - é¡¹ç›®è¯­è¨€æ£€æµ‹
- `GET /language/supported` - æ”¯æŒçš„è¯­è¨€åˆ—è¡¨
- `POST /template/generate` - åŸºäºè¯­è¨€ç”Ÿæˆæ¨¡æ¿
- `GET /template/variants/:lang` - è¯­è¨€ç‰¹å®šæ¨¡æ¿å˜ä½“
- `GET /prompts/language-specific/:lang` - è¯­è¨€ç‰¹å®šæç¤ºè¯

## âš™ï¸ é…ç½®å’Œç¯å¢ƒ

### ç¯å¢ƒå˜é‡

```bash
MCP_PORT=3000              # æœåŠ¡ç«¯å£
MCP_HOST=localhost         # ä¸»æœºåœ°å€
MCP_LOG_LEVEL=info         # æ—¥å¿—çº§åˆ«
MCP_API_KEY=your-key       # APIå¯†é’¥(å¯é€‰)
```

### é…ç½®æ–‡ä»¶

- `config/mcp.config.json` - æœåŠ¡å™¨é…ç½®
- `config/modes.config.json` - å·¥ä½œæ¨¡å¼é…ç½®  
- `config/templates.config.json` - æ¨¡æ¿ç³»ç»Ÿé…ç½®

## ğŸš€ æ€§èƒ½ç‰¹æ€§

### ç¼“å­˜ç­–ç•¥

- **æç¤ºè¯ç¼“å­˜**: LRUç¼“å­˜ï¼ŒTTL 1å°æ—¶
- **è¯­è¨€æ£€æµ‹ç¼“å­˜**: åŸºäºé¡¹ç›®è·¯å¾„å’Œé€‰é¡¹çš„æ™ºèƒ½ç¼“å­˜
- **æ¨¡æ¿ç”Ÿæˆç¼“å­˜**: 30åˆ†é’ŸTTLï¼Œæœ€å¤§100ä¸ªæ¡ç›®
- **æ‰«æç»“æœç¼“å­˜**: åŸºäºé¡¹ç›®ä¿®æ”¹æ—¶é—´çš„å¢é‡ç¼“å­˜

### å¹¶å‘å¤„ç†

- **å¹¶è¡Œæ‰«æ**: ç›®å½•ç»“æ„ã€é…ç½®æ–‡ä»¶ã€READMEåŒæ—¶åˆ†æ
- **æ‰¹é‡æ¨¡æ¿ç”Ÿæˆ**: æ”¯æŒæœ€å¤š20ä¸ªå¹¶å‘è¯·æ±‚
- **å¼‚æ­¥å·¥ä½œæµ**: éé˜»å¡çš„å¤šæ­¥éª¤å·¥ä½œæµå¤„ç†

## ğŸ›¡ï¸ é”™è¯¯å¤„ç†å’Œå“åº”æ ¼å¼

### ç»Ÿä¸€å“åº”æ ¼å¼

**æˆåŠŸå“åº”**:
```json
{
    "success": true,
    "message": "æ“ä½œæˆåŠŸ",
    "data": {...},
    "timestamp": "2025-09-08T10:00:00.000Z"
}
```

**é”™è¯¯å“åº”**:
```json
{
    "success": false,
    "error": "é”™è¯¯ä¿¡æ¯",
    "details": {...},
    "timestamp": "2025-09-08T10:00:00.000Z"
}
```

**å·¥ä½œæµå“åº”**:
```json
{
    "success": true,
    "message": "å·¥ä½œæµæ­¥éª¤å®Œæˆ",
    "workflow": "init",
    "data": {...},
    "timestamp": "2025-09-08T10:00:00.000Z"
}
```

## ğŸ” å·²æ¸…ç†çš„åºŸå¼ƒæ–‡ä»¶

åœ¨æ¶æ„åˆ†æè¿‡ç¨‹ä¸­ï¼Œå·²è¯†åˆ«å¹¶åˆ é™¤ä»¥ä¸‹åºŸå¼ƒæ–‡ä»¶å’Œç›®å½•:

### åˆ é™¤çš„æ–‡ä»¶
- `server/.DS_Store` - macOSç³»ç»Ÿæ–‡ä»¶
- `server/routes/.DS_Store` - macOSç³»ç»Ÿæ–‡ä»¶
- `server/services/enhanced-ai-content-generator.js` - æœªè¢«å¼•ç”¨çš„é‡å¤AIç”Ÿæˆå™¨
- `server/utils/` (ç©ºç›®å½•) - ç©ºçš„å·¥å…·ç›®å½•

### ä¿ç•™çš„æ´»è·ƒæ–‡ä»¶
- `server/services/ai-content-generator.js` - è¢«ai-response-handlerä½¿ç”¨
- `server/services/ai-response-handler.js` - è¢«å¤šä¸ªinitè·¯ç”±ä½¿ç”¨
- `server/services/template-engine-service.js` - è¢«è¯­è¨€è·¯ç”±ä½¿ç”¨
- `server/services/unified-template-service.js` - åœ¨æœåŠ¡æ³¨å†Œä¸­ä½¿ç”¨

## ğŸ¯ æ¶æ„ä¼˜åŠ¿

### 1. é«˜åº¦æ¨¡å—åŒ–
- æ¸…æ™°çš„èŒè´£åˆ†ç¦»
- ç‹¬ç«‹çš„åŠŸèƒ½æ¨¡å—  
- æ˜“äºæµ‹è¯•å’Œç»´æŠ¤

### 2. å¯æ‰©å±•æ€§
- æ’ä»¶åŒ–çš„è·¯ç”±ç³»ç»Ÿ
- ä¾èµ–æ³¨å…¥çš„æœåŠ¡æ¶æ„
- æ ‡å‡†åŒ–çš„æ¥å£è§„èŒƒ

### 3. å®¹é”™æ€§
- ç»Ÿä¸€çš„é”™è¯¯å¤„ç†
- æœåŠ¡é™çº§æœºåˆ¶
- ç¼“å­˜å¤±æ•ˆæ¢å¤

### 4. æ™ºèƒ½åŒ–
- è‡ªåŠ¨è¯­è¨€è¯†åˆ«
- ä¸Šä¸‹æ–‡æ„ŸçŸ¥æ¨¡æ¿ç”Ÿæˆ
- æ™ºèƒ½å·¥ä½œæµå»ºè®®

## ğŸ“‹ ç»´æŠ¤æŒ‡å—

### æ·»åŠ æ–°æœåŠ¡
1. åœ¨`server/services/`åˆ›å»ºæœåŠ¡ç±»
2. åœ¨`service-registry.js`æ³¨å†ŒæœåŠ¡å’Œä¾èµ–
3. é€šè¿‡ServiceBusè·å–æœåŠ¡å®ä¾‹

### æ‰©å±•è·¯ç”±
1. åœ¨å¯¹åº”çš„æ¨¡å¼ç›®å½•ä¸‹åˆ›å»ºè·¯ç”±æ–‡ä»¶
2. åœ¨`routes/index.js`ä¸­å¯¼å…¥å’Œæ³¨å†Œ
3. ä½¿ç”¨ç»Ÿä¸€çš„å“åº”æ ¼å¼

### é›†æˆæ–°å·¥ä½œæ¨¡å¼
1. åˆ›å»º`routes/[mode]/`ç›®å½•å’Œè·¯ç”±
2. æ›´æ–°`config/modes.config.json`
3. æ·»åŠ ç›¸åº”çš„æç¤ºè¯æ¨¡æ¿

## ğŸ“Š æ¶æ„ç»Ÿè®¡

- **æ€»æ–‡ä»¶æ•°**: 46ä¸ªæ´»è·ƒæ–‡ä»¶
- **æ ¸å¿ƒæœåŠ¡**: 16ä¸ªæœåŠ¡ç±»
- **è·¯ç”±æ¨¡å—**: 22ä¸ªè·¯ç”±æ–‡ä»¶  
- **åˆ†æå™¨**: 10ä¸ªåˆ†æå™¨æ¨¡å—
- **æ”¯æŒè¯­è¨€**: 6ç§ä¸»æµç¼–ç¨‹è¯­è¨€
- **å·¥ä½œæ¨¡å¼**: 4ç§å·¥ä½œæ¨¡å¼ (Init/Create/Fix/Analyze)
- **APIç«¯ç‚¹**: 50+ä¸ªREST APIç«¯ç‚¹

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2025-09-08  
**ç»´æŠ¤è€…**: Claude Code Assistant